<header class="container">
  <nav>
    <ul>
      <li>
        <strong><%= link_to "NY Benchmark", root_path, class: "contrast" %></strong>
      </li>
    </ul>
    <ul>
      <li><%= link_to "Entities", entities_path, class: "secondary" %></li>
      <li><%= link_to "Documents", documents_path, class: "secondary" %></li>
      <li><%= link_to "Metrics", metrics_path, class: "secondary" %></li>

    <% if user_signed_in? %>
      <li>
        <% first_provisional = Observation.provisional.order(:id).first %>
        <% queue_count = Observation.provisional.count %>
        <% if first_provisional %>
          <%= link_to verify_observation_path(first_provisional),
                      class: "contrast font-bold flex items-center gap-2 link-plain" do %>
            Verify Queue
            <span class="bg-red-600 text-white text-xs px-2 py-0.5 rounded-full"><%= queue_count %></span>
          <% end %>
        <% else %>
          <span class="secondary text-sm flex items-center gap-2">
            Verify Queue
            <span class="bg-green-600 text-white text-xs px-2 py-0.5 rounded-full">0</span>
          </span>
        <% end %>
      </li>

      <li><span class="secondary text-sm"><%= current_user.email %></span></li>
      <li>
        <%= button_to "Sign out",
                      destroy_user_session_path,
                      method: :delete,
                      class: "secondary outline",
                      form: { data: { turbo: false } } %>
      </li>
    <% else %>
      <li><%= link_to "Sign in", new_user_session_path, class: "secondary", data: { turbo: false } %></li>
      <li><%= link_to "Sign up", new_user_registration_path, class: "secondary", data: { turbo: false } %></li>
    <% end %>
    </ul>
  </nav>
</header>