<main class="container">
  <div class="page-header">
    <hgroup>
      <h1><%= @metric.label %></h1>
    </hgroup>
    <% if user_signed_in? %>
      <div>
        <%= link_to "Edit", edit_metric_path(@metric), role: "button", class: "secondary outline" %>
      </div>
    <% end %>
  </div>

  <article>
    <header>
      <strong>Metric Details</strong>
    </header>
    
    <p>
      <%= @metric.description %>
    </p>

    <div class="grid">
      <div>
        <strong>Unit:</strong> <%= @metric.unit %>
      </div>
      <div>
        <strong>Code:</strong> <%= @metric.key %>
      </div>
    </div>

    <div class="grid">
      <div>
        <strong>Type:</strong> <%= @metric.value_type.humanize %>
      </div>
      <% if @metric.numeric? %>
        <div>
          <strong>Display Format:</strong> <%= @metric.display_format&.humanize %>
        </div>
      <% else %>
        <div></div>
      <% end %>
    </div>

    <div class="grid">
      <div>
        <strong>Source:</strong> <%= @metric.data_source.humanize %>
      </div>
      <% if @metric.osc_data_source? && @metric.account_code.present? %>
        <div>
          <strong>Account Code:</strong> <code><%= @metric.account_code %></code>
        </div>
      <% else %>
        <div></div>
      <% end %>
    </div>

    <% if @metric.formula.present? %>
      <div>
        <strong>Formula:</strong> <code><%= @metric.formula %></code>
      </div>
    <% end %>
  </article>

  <div>
    <%= link_to "Back to Metrics", metrics_path, role: "button", class: "secondary" %>
  </div>
</main>