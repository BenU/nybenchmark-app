<div style="max-width: 600px; margin: 0 auto; padding: 20px;">
  <h1>Upload New Document</h1>

  <%= form_with(model: @document, local: true) do |form| %>
    <% if @document.errors.any? %>
      <div style="background-color: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin-bottom: 20px;">
        <h3><%= pluralize(@document.errors.count, "error") %> prevented saving:</h3>
        <ul>
          <% @document.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div style="margin-bottom: 15px;">
      <%= form.label :entity_id, "Municipality", style: "display: block; font-weight: bold;" %>
      <%= form.collection_select :entity_id, Entity.order(:name), :id, :name, {}, { style: "width: 100%; padding: 8px;" } %>
    </div>

    <div style="margin-bottom: 15px;">
      <%= form.label :title, style: "display: block; font-weight: bold;" %>
      <%= form.text_field :title, style: "width: 100%; padding: 8px;" %>
    </div>

    <div style="margin-bottom: 15px;">
      <%= form.label :doc_type, "Document Type", style: "display: block; font-weight: bold;" %>
      <%= form.select :doc_type, ["budget", "acfr", "other"], {}, { style: "width: 100%; padding: 8px;" } %>
    </div>

    <div style="margin-bottom: 15px;">
      <%= form.label :fiscal_year, style: "display: block; font-weight: bold;" %>
      <%= form.number_field :fiscal_year, value: 2024, style: "width: 100%; padding: 8px;" %>
    </div>
    
    <div style="margin-bottom: 15px;">
      <%= form.label :source_url, "Source URL", style: "display: block; font-weight: bold;" %>
      <%= form.text_field :source_url, placeholder: "http://...", style: "width: 100%; padding: 8px;" %>
    </div>

    <div style="margin-bottom: 20px; border: 2px dashed #ccc; padding: 20px; text-align: center;">
      <%= form.label :file, "Upload PDF (Max 20MB)", style: "font-weight: bold;" %><br>
      <%= form.file_field :file, accept: "application/pdf" %>
    </div>

    <div>
      <%= form.submit "Upload Document", style: "background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;" %>
    </div>
  <% end %>
</div>